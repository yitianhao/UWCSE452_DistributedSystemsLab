Lab 3 Writeup

Partner 1 Name, NetID: 
Partner 2 Name, NetID: 

Brief description of design:


Union of hours spent on the lab:
Total time spent on the lab:

Development timeline:
1. write inner/helper classes for Ballots and Log(s)
2. Accept messages/timers (P2As, P2Bs, Decisions)
  You can start by hard-coding one of the servers as the leader
  Make sure executions are happening in order (starting from slot_out and don’t skip slots) and progress can be made for clients

Previous updates:
1. [Andrew's OH] Set one timer for a message send (even though send this message to multiple servers)
2. [test14 log] handle the case that PaxosReply send failed
3. on timer resent should use previous ballot (i.e., the ballot recorded in the message), not current ballot
4. [ED https://edstem.org/us/courses/4921/discussion/437649] HeartbeatCheckTimer should be set at init for every server, reset when appropriate
5. [OH] If I think I am the leader and I found the incoming message contains a higher ballot, I am not leader anymore
6. [running --checks] Inner classes need @equals and @hashcode and optionally @toString (for debugging)
7. [test14 log] Only leader has the right to reset P2ATimer
8. [test14 log] when leader is settled, re-propose the accepted slots with own ballot
9. [test24 viz] Two types of mergeLog
       (P1B merge won’t decide no-op; leader merge ref. https://edstem.org/us/courses/4921/discussion/410869
10. [test24 viz] Decide when the leader is elected:
        add lastLeader (now leader is elected, followers should reset checker timer)
11. [test24 viz] Followers shouldn’t try to start leader election too early
        only when "roleSettled", can increase ballot
        P1A will use seqNum + address constructed ballot; rather than this.ballot(because this can be updated to higher ballot of another server during P1A)
12. [test18 log] Partitioned-out leader should know it is not leader any more if it didn't hear back HeartbeatReply for a long time.

Timers:
P2ATimer: 1 timer ~ (n - 1) P2A send to other acceptors
P1ATimer: 1 timer ~ 1 P1A
HeartbeatTimer: 1 timer ~ (n - 1) Heartbeat send to other acceptors
HeartbeatCheckTimer: set in init, renew timer when a new leader is chosen
HeartbeatReplyCheckTimer: remind the leader that nobody get your heartbeat in a time interval, probably you are partitioned out??

May. 18 current difficulty:
1. test18, 23 not pass, probably this?? https://edstem.org/us/courses/4921/discussion/446463
2. ballot number not understood https://edstem.org/us/courses/4921/discussion/416741

